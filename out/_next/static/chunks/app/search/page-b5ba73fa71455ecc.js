(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797,628],{5072:function(e,t,r){Promise.resolve().then(r.bind(r,7371))},7371:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var i=r(7437),n=r(1396),a=r.n(n),s=r(4033),o=r(1142),c=r(2520),l=r(1908),d=r(9155);function u(){var e;let t=(0,s.useSearchParams)(),r=null!==(e=t.get("q"))&&void 0!==e?e:"",n=(0,o.$V)({q:r,sort:"relevance",page:"1",per:"24"});return(0,i.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-10",children:[(0,i.jsxs)("header",{className:"mb-6 flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"جستجو"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:r?(0,i.jsxs)(i.Fragment,{children:["نتایج برای \xab",r,"\xbb"]}):"عبارت جستجو را وارد کنید"})]}),(0,i.jsx)("form",{action:"/search",className:"w-full sm:w-80",children:(0,i.jsx)(l.I,{name:"q",defaultValue:r,placeholder:"مثلاً: هودی سفید، زمستان..."})})]}),r&&(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(d.C,{variant:"secondary",children:"مرتبط‌ترین"})}),n.items.length?(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.items.map(e=>{var t;return(0,i.jsx)(c.default,{product:{id:e.id,title:e.title,price:e.price.current,compareAt:e.price.compareAt,rating:e.rating,image:(null===(t=e.variants[0])||void 0===t?void 0:t.images[0])||""}},e.id)})}):(0,i.jsx)("div",{className:"rounded-lg border p-10 text-center text-muted-foreground",children:r?(0,i.jsxs)(i.Fragment,{children:["چیزی برای \xab",r,"\xbb پیدا نشد."," ",(0,i.jsx)(a(),{className:"underline",href:"/products",children:"مشاهده همه محصولات"})]}):"برای شروع، عبارتی را جستجو کنید."})]})}},9155:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var i=r(7437);r(2265);var n=r(6061),a=r(9311);let s=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...n}=e;return(0,i.jsx)("div",{className:(0,a.cn)(s({variant:r}),t),...n})}},3023:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return l}});var i=r(7437),n=r(2265),a=r(7256),s=r(6061),o=r(9311);let c=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,i.jsx)(u,{className:(0,o.cn)(c({variant:n,size:s,className:r})),ref:t,...d})});l.displayName="Button"},1908:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var i=r(7437),n=r(2265),a=r(9311);let s=n.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,i.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},2520:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var i=r(7437),n=r(2265),a=r(9311);let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});s.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter";var m=r(3023),f=r(7810),p=r(4893),g=r(7668),v=r(9115),x=r(4810);let h=(0,v.U)()((0,x.tJ)((e,t)=>({ids:[],has:e=>t().ids.includes(e),toggle:t=>e(e=>{let r=e.ids.includes(t);return{ids:r?e.ids.filter(e=>e!==t):[t,...e.ids]}}),clear:()=>e({ids:[]})}),{name:"wish.v1"}));var b=r(8408),y=r(1424);let w={addedToCart(e){y.Am.success("".concat(e," به سبد اضافه شد"),{action:{label:"مشاهده سبد",onClick:()=>window.location.href="/cart"},duration:2500})},wishlistAdded(e){y.Am.success("به علاقه‌مندی‌ها اضافه شد: ".concat(e),{action:{label:"نمایش",onClick:()=>window.location.href="/wishlist"},duration:2500})},wishlistRemoved(e){(0,y.Am)("از علاقه‌مندی‌ها حذف شد: ".concat(e),{duration:2e3})},compareAdded(){y.Am.info("به مقایسه اضافه شد (حداکثر ۳ کالا)",{duration:2e3})},compareLimit(){(0,y.Am)("حداکثر ۳ کالا برای مقایسه",{description:"برای افزودن کالای جدید، یکی را حذف کنید.",duration:2500})},error(e){y.Am.error(e,{duration:3e3})}};function N(e){return new Intl.NumberFormat("fa-IR").format(e)+" تومان"}function j(e){let{product:t}=e,r=!!t.compareAt&&t.compareAt>t.price,{add:n}=(0,g.j)(),o=h(),c=(0,b.x)(),l=o.has(t.id),v=c.has(t.id);return(0,i.jsxs)(s,{className:"overflow-hidden group",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:t.image,alt:t.title,className:"aspect-[4/5] w-full object-cover transition-transform duration-300 group-hover:scale-105"}),r&&(0,i.jsx)("div",{className:"absolute top-2 left-2",children:(0,i.jsx)("span",{className:"rounded-full bg-red-600 text-white text-xs px-2 py-1",children:"تخفیف"})}),(0,i.jsx)("button",{"aria-label":l?"حذف از علاقه‌مندی‌ها":"افزودن به علاقه‌مندی‌ها",onClick:function(){let e=o.has(t.id);o.toggle(t.id),e?w.wishlistRemoved(t.title):w.wishlistAdded(t.title)},className:(0,a.cn)("absolute top-2 right-2 rounded-full p-2 shadow transition",l?"bg-red-500 text-white":"bg-white/90 hover:bg-white"),children:(0,i.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,i.jsxs)(d,{className:"pt-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("h3",{className:"line-clamp-1 font-medium",children:t.title}),t.rating?(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["★ ",t.rating.toFixed(1)]}):null]}),(0,i.jsxs)("div",{className:"mt-1 flex items-baseline gap-2",children:[(0,i.jsx)("span",{className:"font-bold",children:N(t.price)}),r&&(0,i.jsx)("span",{className:"text-xs text-muted-foreground line-through",children:N(t.compareAt)})]})]}),(0,i.jsxs)(u,{className:"flex gap-2",children:[(0,i.jsx)(m.z,{className:"flex-1",onClick:function(){n({productId:t.id,title:t.title,price:t.price,compareAt:t.compareAt,image:t.image,color:t.color,size:t.size,qty:1}),w.addedToCart(t.title)},children:"افزودن به سبد"}),(0,i.jsx)(m.z,{variant:v?"default":"outline",size:"icon","aria-label":"افزودن به مقایسه",onClick:function(){let e=!c.has(t.id)&&c.count()>=3;if(e){w.compareLimit();return}c.toggle(t.id),v||w.compareAdded()},className:(0,a.cn)(v&&"bg-primary text-primary-foreground"),children:(0,i.jsx)(p.Z,{className:"h-4 w-4"})})]})]})}},7668:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var i=r(9115),n=r(4810);function a(e){var t,r;return"".concat(e.productId,"|").concat(null!==(t=e.color)&&void 0!==t?t:"","|").concat(null!==(r=e.size)&&void 0!==r?r:"")}let s=(0,i.U)()((0,n.tJ)((e,t)=>({items:[],add:t=>e(e=>{var r,i,n;let s=a(t),o=e.items.findIndex(e=>a(e)===s);if(o>=0){let r=[...e.items];return r[o]={...r[o],qty:r[o].qty+(t.qty||1)},{items:r}}let c=null!==(n=null===(i=crypto)||void 0===i?void 0:null===(r=i.randomUUID)||void 0===r?void 0:r.call(i))&&void 0!==n?n:String(Date.now()+Math.random());return{items:[{id:c,...t,qty:t.qty||1},...e.items]}}),remove:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),setQty:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,qty:Math.max(1,r)}:e)})),clear:()=>e({items:[]}),count:()=>t().items.reduce((e,t)=>e+t.qty,0),subtotal:()=>t().items.reduce((e,t)=>e+t.price*t.qty,0)}),{name:"cart.v1",partialize:e=>({items:e.items})}))},8408:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var i=r(9115),n=r(4810);let a=(0,i.U)()((0,n.tJ)((e,t)=>({open:!1,ids:[],count:()=>t().ids.length,has:e=>t().ids.includes(e),toggle:t=>e(e=>{let r=e.ids.includes(t);return r?{ids:e.ids.filter(e=>e!==t)}:e.ids.length>=3?{ids:[t,...e.ids.slice(0,2)],open:!0}:{ids:[t,...e.ids]}}),remove:t=>e(e=>({ids:e.ids.filter(e=>e!==t)})),clear:()=>e({ids:[]}),setOpen:t=>e({open:t})}),{name:"compare.v1",partialize:e=>({ids:e.ids})}))},1142:function(e,t,r){"use strict";r.d(t,{$V:function(){return s},e5:function(){return n},ru:function(){return a}});let i=e=>"https://images.unsplash.com/".concat(e),n=[{id:"p1",slug:"هودی-سفید-محمد",title:"هودی سفید محمد",description:"هودی سفید از پنبه ارگانیک با گرمای ملایم برای روزهای سرد.",tags:["هودی","زمستان","مینیمال","سفید"],price:{current:1e5,compareAt:12e4,currency:"تومان"},rating:4.6,totalReviews:128,variants:[{id:"p1v1",color:"سفید",size:"M",available:!0,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]},{id:"p1v2",color:"سفید",size:"L",available:!1,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]}],category:"هودی",createdAt:"2025-09-12"},{id:"p2",slug:"تی-شرت-مینیمال-مشکی",title:"تی‌شرت مینیمال مشکی",description:"تی‌شرت نازک و تنفسی، مناسب لایه‌پوشی پاییزی.",tags:["تی‌شرت","پاییز","مشکی","مینیمال"],price:{current:49e3,currency:"تومان"},rating:4.2,totalReviews:74,variants:[{id:"p2v1",color:"مشکی",size:"M",available:!0,images:[i("photo-1512436991641-6745cdb1723f?q=80&w=1200")]},{id:"p2v2",color:"مشکی",size:"XL",available:!0,images:[i("photo-1512436991641-6745cdb1723f?q=80&w=1200")]}],category:"تی‌شرت",createdAt:"2025-08-10"},{id:"p3",slug:"کفش-تمام-سفید",title:"کفش سفید تمام‌سفید",description:"کفشی سبک و مینیمال برای استایل روزمره.",tags:["اکسسوری","کفش","سفید"],price:{current:169e3,compareAt:189e3,currency:"تومان"},rating:4.8,totalReviews:210,variants:[{id:"p3v1",color:"سفید",size:"42",available:!0,images:[i("photo-1519741497674-611481863552?q=80&w=1200")]}],category:"اکسسوری",createdAt:"2025-09-30"},{id:"p4",slug:"شلوار-خاکستری-دهه-نود",title:"شلوار خاکستری ۹۰s",description:"فرم راحت با پارچه مقاوم؛ مناسب استایل خیابانی.",tags:["اکسسوری","شلوار","خاکستری","۹۰s"],price:{current:129e3,currency:"تومان"},rating:4.1,totalReviews:33,variants:[{id:"p4v1",color:"خاکستری",size:"L",available:!0,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]}],category:"اکسسوری",createdAt:"2025-07-22"}];function a(e){return new Intl.NumberFormat("fa-IR").format(e)+" تومان"}function s(e){let{q:t,category:r,color:i,size:a,inStock:s,min:o,max:c,sort:l="relevance",page:d="1",per:u="12"}=e,m=[...n];if(r&&"همه"!==r&&(m=m.filter(e=>e.category===r)),t&&t.trim()){let e=t.trim();m=m.filter(t=>t.title.includes(e)||t.description.includes(e)||t.tags.some(t=>t.includes(e)))}i&&(m=m.filter(e=>e.variants.some(e=>e.color===i))),a&&(m=m.filter(e=>e.variants.some(e=>e.size===a))),"1"===s&&(m=m.filter(e=>e.variants.some(e=>e.available)));let f=o?Number(o):void 0,p=c?Number(c):void 0;"number"!=typeof f||Number.isNaN(f)||(m=m.filter(e=>e.price.current>=f)),"number"!=typeof p||Number.isNaN(p)||(m=m.filter(e=>e.price.current<=p)),m.sort((e,r)=>{switch(l){case"new":return+new Date(r.createdAt)-+new Date(e.createdAt);case"price_asc":return e.price.current-r.price.current;case"price_desc":return r.price.current-e.price.current;case"rating_desc":return r.rating-e.rating;default:let i=e=>{let r=0;return t&&(e.title.includes(t)&&(r+=3),e.tags.some(e=>e.includes(t))&&(r+=2),e.description.includes(t)&&(r+=1)),r+=Math.min(1,(+new Date(e.createdAt)-0)/1e13)};return i(r)-i(e)}});let g=Math.max(1,parseInt(d,10)||1),v=Math.min(48,Math.max(1,parseInt(u,10)||12)),x=m.length,h=Math.max(1,Math.ceil(x/v)),b=(g-1)*v,y=m.slice(b,b+v);return{items:y,total:x,page:g,pageCount:h}}},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var i=r(7042),n=r(4769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,i.W)(t))}},1396:function(e,t,r){e.exports=r(4724)},4033:function(e,t,r){e.exports=r(290)}},function(e){e.O(0,[724,621,654,163,971,864,744],function(){return e(e.s=5072)}),_N_E=e.O()}]);