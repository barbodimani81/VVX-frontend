(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2581:function(e,t,r){Promise.resolve().then(r.bind(r,2520)),Promise.resolve().then(r.t.bind(r,4724,23))},3023:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return l}});var i=r(7437),n=r(2265),s=r(7256),a=r(6061),o=r(9311);let d=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:l=!1,...c}=e,u=l?s.g7:"button";return(0,i.jsx)(u,{className:(0,o.cn)(d({variant:n,size:a,className:r})),ref:t,...c})});l.displayName="Button"},2520:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var i=r(7437),n=r(2265),s=r(9311);let a=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});a.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});l.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter";var m=r(3023),f=r(7810),p=r(4893),h=r(7668),x=r(9115),g=r(4810);let v=(0,x.U)()((0,g.tJ)((e,t)=>({ids:[],has:e=>t().ids.includes(e),toggle:t=>e(e=>{let r=e.ids.includes(t);return{ids:r?e.ids.filter(e=>e!==t):[t,...e.ids]}}),clear:()=>e({ids:[]})}),{name:"wish.v1"}));var b=r(8408),N=r(1424);let w={addedToCart(e){N.Am.success("".concat(e," به سبد اضافه شد"),{action:{label:"مشاهده سبد",onClick:()=>window.location.href="/cart"},duration:2500})},wishlistAdded(e){N.Am.success("به علاقه‌مندی‌ها اضافه شد: ".concat(e),{action:{label:"نمایش",onClick:()=>window.location.href="/wishlist"},duration:2500})},wishlistRemoved(e){(0,N.Am)("از علاقه‌مندی‌ها حذف شد: ".concat(e),{duration:2e3})},compareAdded(){N.Am.info("به مقایسه اضافه شد (حداکثر ۳ کالا)",{duration:2e3})},compareLimit(){(0,N.Am)("حداکثر ۳ کالا برای مقایسه",{description:"برای افزودن کالای جدید، یکی را حذف کنید.",duration:2500})},error(e){N.Am.error(e,{duration:3e3})}};function y(e){return new Intl.NumberFormat("fa-IR").format(e)+" تومان"}function j(e){let{product:t}=e,r=!!t.compareAt&&t.compareAt>t.price,{add:n}=(0,h.j)(),o=v(),d=(0,b.x)(),l=o.has(t.id),x=d.has(t.id);return(0,i.jsxs)(a,{className:"overflow-hidden group",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("img",{src:t.image,alt:t.title,className:"aspect-[4/5] w-full object-cover transition-transform duration-300 group-hover:scale-105"}),r&&(0,i.jsx)("div",{className:"absolute top-2 left-2",children:(0,i.jsx)("span",{className:"rounded-full bg-red-600 text-white text-xs px-2 py-1",children:"تخفیف"})}),(0,i.jsx)("button",{"aria-label":l?"حذف از علاقه‌مندی‌ها":"افزودن به علاقه‌مندی‌ها",onClick:function(){let e=o.has(t.id);o.toggle(t.id),e?w.wishlistRemoved(t.title):w.wishlistAdded(t.title)},className:(0,s.cn)("absolute top-2 right-2 rounded-full p-2 shadow transition",l?"bg-red-500 text-white":"bg-white/90 hover:bg-white"),children:(0,i.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,i.jsxs)(c,{className:"pt-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("h3",{className:"line-clamp-1 font-medium",children:t.title}),t.rating?(0,i.jsxs)("span",{className:"text-xs text-muted-foreground",children:["★ ",t.rating.toFixed(1)]}):null]}),(0,i.jsxs)("div",{className:"mt-1 flex items-baseline gap-2",children:[(0,i.jsx)("span",{className:"font-bold",children:y(t.price)}),r&&(0,i.jsx)("span",{className:"text-xs text-muted-foreground line-through",children:y(t.compareAt)})]})]}),(0,i.jsxs)(u,{className:"flex gap-2",children:[(0,i.jsx)(m.z,{className:"flex-1",onClick:function(){n({productId:t.id,title:t.title,price:t.price,compareAt:t.compareAt,image:t.image,color:t.color,size:t.size,qty:1}),w.addedToCart(t.title)},children:"افزودن به سبد"}),(0,i.jsx)(m.z,{variant:x?"default":"outline",size:"icon","aria-label":"افزودن به مقایسه",onClick:function(){let e=!d.has(t.id)&&d.count()>=3;if(e){w.compareLimit();return}d.toggle(t.id),x||w.compareAdded()},className:(0,s.cn)(x&&"bg-primary text-primary-foreground"),children:(0,i.jsx)(p.Z,{className:"h-4 w-4"})})]})]})}},7668:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});var i=r(9115),n=r(4810);function s(e){var t,r;return"".concat(e.productId,"|").concat(null!==(t=e.color)&&void 0!==t?t:"","|").concat(null!==(r=e.size)&&void 0!==r?r:"")}let a=(0,i.U)()((0,n.tJ)((e,t)=>({items:[],add:t=>e(e=>{var r,i,n;let a=s(t),o=e.items.findIndex(e=>s(e)===a);if(o>=0){let r=[...e.items];return r[o]={...r[o],qty:r[o].qty+(t.qty||1)},{items:r}}let d=null!==(n=null===(i=crypto)||void 0===i?void 0:null===(r=i.randomUUID)||void 0===r?void 0:r.call(i))&&void 0!==n?n:String(Date.now()+Math.random());return{items:[{id:d,...t,qty:t.qty||1},...e.items]}}),remove:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),setQty:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,qty:Math.max(1,r)}:e)})),clear:()=>e({items:[]}),count:()=>t().items.reduce((e,t)=>e+t.qty,0),subtotal:()=>t().items.reduce((e,t)=>e+t.price*t.qty,0)}),{name:"cart.v1",partialize:e=>({items:e.items})}))},8408:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var i=r(9115),n=r(4810);let s=(0,i.U)()((0,n.tJ)((e,t)=>({open:!1,ids:[],count:()=>t().ids.length,has:e=>t().ids.includes(e),toggle:t=>e(e=>{let r=e.ids.includes(t);return r?{ids:e.ids.filter(e=>e!==t)}:e.ids.length>=3?{ids:[t,...e.ids.slice(0,2)],open:!0}:{ids:[t,...e.ids]}}),remove:t=>e(e=>({ids:e.ids.filter(e=>e!==t)})),clear:()=>e({ids:[]}),setOpen:t=>e({open:t})}),{name:"compare.v1",partialize:e=>({ids:e.ids})}))},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var i=r(7042),n=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,i.W)(t))}}},function(e){e.O(0,[724,621,654,163,971,864,744],function(){return e(e.s=2581)}),_N_E=e.O()}]);