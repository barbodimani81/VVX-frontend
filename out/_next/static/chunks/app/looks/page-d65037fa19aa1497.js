(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{8824:function(e,t,r){Promise.resolve().then(r.bind(r,7298))},7298:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var i=r(7437),n=r(6691),a=r.n(n),s=r(1396),l=r.n(s),c=r(1142),o=r(3023),u=r(7668);let d=[{id:"l1",title:"استایل زمستانی",items:[{productId:"p1"},{productId:"p4"},{productId:"p3"}],bundlePrice:32e4,cover:"https://images.unsplash.com/photo-1542367597-8849eb2c0a48?q=80&w=1600",tags:["زمستان","مینیمال"]},{id:"l2",title:"استایل پاییزی",items:[{productId:"p2"},{productId:"p4"}],bundlePrice:178e3,cover:"https://images.unsplash.com/photo-1509631179647-0177331693ae?q=80&w=1600",tags:["پاییز","کژوال"]}];function m(){let{add:e}=(0,u.j)();return(0,i.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-10",children:[(0,i.jsxs)("header",{className:"mb-6 flex items-center justify-between",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"استایل‌ها"}),(0,i.jsx)(l(),{href:"/products",className:"text-sm text-muted-foreground hover:text-foreground",children:"مشاهده همه محصولات"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(t=>{var r,n;let s=t.items.map(e=>c.e5.find(t=>t.id===e.productId)).filter(Boolean),u=s.reduce((e,t)=>e+t.price.current,0),d=t.bundlePrice?Math.max(0,u-t.bundlePrice):0;return(0,i.jsxs)("article",{className:"rounded-2xl border overflow-hidden",children:[(0,i.jsx)("div",{className:"relative h-64 w-full",children:t.cover&&(0,i.jsx)(a(),{src:t.cover,alt:t.title,fill:!0,className:"object-cover"})}),(0,i.jsxs)("div",{className:"p-4 space-y-3",children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:t.title}),(null===(r=t.tags)||void 0===r?void 0:r.length)?(0,i.jsx)("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:t.tags.map(e=>(0,i.jsx)("span",{className:"rounded-full border px-2 py-0.5",children:e},e))}):null,(0,i.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:s.map(e=>(0,i.jsxs)("li",{children:["• ",e.title," — ",(0,c.ru)(e.price.current)]},e.id))}),(0,i.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,i.jsx)("div",{className:"font-bold",children:"قیمت مجموعه:"}),(0,i.jsx)("div",{className:"text-lg font-extrabold",children:(0,c.ru)(null!==(n=t.bundlePrice)&&void 0!==n?n:u)}),d>0&&(0,i.jsxs)("div",{className:"text-xs text-emerald-600",children:["صرفه‌جویی: ",(0,c.ru)(d)]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(o.z,{onClick:()=>(function(t){t.items.forEach(t=>{var r;let{productId:i}=t,n=c.e5.find(e=>e.id===i);if(!n)return;let a=(null===(r=n.variants[0])||void 0===r?void 0:r.images[0])||"";e({productId:n.id,title:n.title,price:n.price.current,compareAt:n.price.compareAt,image:a,qty:1})})})(t),className:"flex-1",children:"افزودن کل استایل"}),(0,i.jsx)(o.z,{variant:"outline",className:"flex-1",asChild:!0,children:(0,i.jsx)(l(),{href:"/products?tags=".concat(encodeURIComponent(t.title)),children:"مشاهده جزئیات"})})]})]})]},t.id)})})]})}},3023:function(e,t,r){"use strict";r.d(t,{d:function(){return c},z:function(){return o}});var i=r(7437),n=r(2265),a=r(7256),s=r(6061),l=r(9311);let c=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:o=!1,...u}=e,d=o?a.g7:"button";return(0,i.jsx)(d,{className:(0,l.cn)(c({variant:n,size:s,className:r})),ref:t,...u})});o.displayName="Button"},7668:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var i=r(9115),n=r(4810);function a(e){var t,r;return"".concat(e.productId,"|").concat(null!==(t=e.color)&&void 0!==t?t:"","|").concat(null!==(r=e.size)&&void 0!==r?r:"")}let s=(0,i.U)()((0,n.tJ)((e,t)=>({items:[],add:t=>e(e=>{var r,i,n;let s=a(t),l=e.items.findIndex(e=>a(e)===s);if(l>=0){let r=[...e.items];return r[l]={...r[l],qty:r[l].qty+(t.qty||1)},{items:r}}let c=null!==(n=null===(i=crypto)||void 0===i?void 0:null===(r=i.randomUUID)||void 0===r?void 0:r.call(i))&&void 0!==n?n:String(Date.now()+Math.random());return{items:[{id:c,...t,qty:t.qty||1},...e.items]}}),remove:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),setQty:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,qty:Math.max(1,r)}:e)})),clear:()=>e({items:[]}),count:()=>t().items.reduce((e,t)=>e+t.qty,0),subtotal:()=>t().items.reduce((e,t)=>e+t.price*t.qty,0)}),{name:"cart.v1",partialize:e=>({items:e.items})}))},1142:function(e,t,r){"use strict";r.d(t,{$V:function(){return s},e5:function(){return n},ru:function(){return a}});let i=e=>"https://images.unsplash.com/".concat(e),n=[{id:"p1",slug:"هودی-سفید-محمد",title:"هودی سفید محمد",description:"هودی سفید از پنبه ارگانیک با گرمای ملایم برای روزهای سرد.",tags:["هودی","زمستان","مینیمال","سفید"],price:{current:1e5,compareAt:12e4,currency:"تومان"},rating:4.6,totalReviews:128,variants:[{id:"p1v1",color:"سفید",size:"M",available:!0,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]},{id:"p1v2",color:"سفید",size:"L",available:!1,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]}],category:"هودی",createdAt:"2025-09-12"},{id:"p2",slug:"تی-شرت-مینیمال-مشکی",title:"تی‌شرت مینیمال مشکی",description:"تی‌شرت نازک و تنفسی، مناسب لایه‌پوشی پاییزی.",tags:["تی‌شرت","پاییز","مشکی","مینیمال"],price:{current:49e3,currency:"تومان"},rating:4.2,totalReviews:74,variants:[{id:"p2v1",color:"مشکی",size:"M",available:!0,images:[i("photo-1512436991641-6745cdb1723f?q=80&w=1200")]},{id:"p2v2",color:"مشکی",size:"XL",available:!0,images:[i("photo-1512436991641-6745cdb1723f?q=80&w=1200")]}],category:"تی‌شرت",createdAt:"2025-08-10"},{id:"p3",slug:"کفش-تمام-سفید",title:"کفش سفید تمام‌سفید",description:"کفشی سبک و مینیمال برای استایل روزمره.",tags:["اکسسوری","کفش","سفید"],price:{current:169e3,compareAt:189e3,currency:"تومان"},rating:4.8,totalReviews:210,variants:[{id:"p3v1",color:"سفید",size:"42",available:!0,images:[i("photo-1519741497674-611481863552?q=80&w=1200")]}],category:"اکسسوری",createdAt:"2025-09-30"},{id:"p4",slug:"شلوار-خاکستری-دهه-نود",title:"شلوار خاکستری ۹۰s",description:"فرم راحت با پارچه مقاوم؛ مناسب استایل خیابانی.",tags:["اکسسوری","شلوار","خاکستری","۹۰s"],price:{current:129e3,currency:"تومان"},rating:4.1,totalReviews:33,variants:[{id:"p4v1",color:"خاکستری",size:"L",available:!0,images:[i("photo-1520975916090-3105956dac38?q=80&w=1200")]}],category:"اکسسوری",createdAt:"2025-07-22"}];function a(e){return new Intl.NumberFormat("fa-IR").format(e)+" تومان"}function s(e){let{q:t,category:r,color:i,size:a,inStock:s,min:l,max:c,sort:o="relevance",page:u="1",per:d="12"}=e,m=[...n];if(r&&"همه"!==r&&(m=m.filter(e=>e.category===r)),t&&t.trim()){let e=t.trim();m=m.filter(t=>t.title.includes(e)||t.description.includes(e)||t.tags.some(t=>t.includes(e)))}i&&(m=m.filter(e=>e.variants.some(e=>e.color===i))),a&&(m=m.filter(e=>e.variants.some(e=>e.size===a))),"1"===s&&(m=m.filter(e=>e.variants.some(e=>e.available)));let f=l?Number(l):void 0,p=c?Number(c):void 0;"number"!=typeof f||Number.isNaN(f)||(m=m.filter(e=>e.price.current>=f)),"number"!=typeof p||Number.isNaN(p)||(m=m.filter(e=>e.price.current<=p)),m.sort((e,r)=>{switch(o){case"new":return+new Date(r.createdAt)-+new Date(e.createdAt);case"price_asc":return e.price.current-r.price.current;case"price_desc":return r.price.current-e.price.current;case"rating_desc":return r.rating-e.rating;default:let i=e=>{let r=0;return t&&(e.title.includes(t)&&(r+=3),e.tags.some(e=>e.includes(t))&&(r+=2),e.description.includes(t)&&(r+=1)),r+=Math.min(1,(+new Date(e.createdAt)-0)/1e13)};return i(r)-i(e)}});let v=Math.max(1,parseInt(u,10)||1),g=Math.min(48,Math.max(1,parseInt(d,10)||12)),h=m.length,b=Math.max(1,Math.ceil(h/g)),x=(v-1)*g,y=m.slice(x,x+g);return{items:y,total:h,page:v,pageCount:b}}},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var i=r(7042),n=r(4769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,i.W)(t))}},4810:function(e,t,r){"use strict";r.d(t,{tJ:function(){return n}});let i=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>i(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}},n=(e,t)=>(r,n,a)=>{let s,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var i;let n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),a=null!=(i=r.getItem(e))?i:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,i)=>r.setItem(e,JSON.stringify(i,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,o=new Set,u=new Set,d=l.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},n,a);let m=()=>{let e=l.partialize({...n()});return d.setItem(l.name,{state:e,version:l.version})},f=a.setState;a.setState=(e,t)=>(f(e,t),m());let p=e((...e)=>(r(...e),m()),n,a);a.getInitialState=()=>p;let v=()=>{var e,t;if(!d)return;c=!1,o.forEach(e=>{var t;return e(null!=(t=n())?t:p)});let a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=n())?e:p))||void 0;return i(d.getItem.bind(d))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[i,a]=e;if(r(s=l.merge(a,null!=(t=n())?t:p),!0),i)return m()}).then(()=>{null==a||a(s,void 0),s=n(),c=!0,u.forEach(e=>e(s))}).catch(e=>{null==a||a(void 0,e)})};return a.persist={setOptions:e=>{l={...l,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>v(),hasHydrated:()=>c,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},l.skipHydration||v(),s||p}},9115:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var i=r(2265);let n=e=>{let t;let r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,a={setState:i,getState:n,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(i,n,a);return a},a=e=>e?n(e):n,s=e=>e,l=e=>{let t=a(e),r=e=>(function(e,t=s){let r=i.useSyncExternalStore(e.subscribe,i.useCallback(()=>t(e.getState()),[e,t]),i.useCallback(()=>t(e.getInitialState()),[e,t]));return i.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>e?l(e):l}},function(e){e.O(0,[724,621,360,971,864,744],function(){return e(e.s=8824)}),_N_E=e.O()}]);